# Requirements Archive: v2.0 Data Ingestion Engine

**Archived:** 2026-01-29
**Status:** SHIPPED

This is the archived requirements specification for v2.0.
For current requirements, see `.planning/PROJECT.md` (Validated section carries cumulative record).

---

## Requirements

- [x] REQ-01: Batch creation with file upload (POST /projects/:projectId/batches) — Phase 7 + 10
- [x] REQ-02: ListModeStrategy: Parse single Excel file into N rows with headers as keys — Phase 2
- [x] REQ-03: ProfileModeStrategy: Parse N Excel files into N rows with cell-address keys — Phase 2
- [x] REQ-04: Strategy selection via request body parameter — Phase 3 + 4
- [x] REQ-05: Atomic batch insert with database transactions (full rollback on failure) — Phase 2 + 5 + 6
- [x] REQ-06: JSONB normalized data storage in `rows` table — Phase 1
- [x] REQ-07: Source filename traceability on every row — Phase 1
- [x] REQ-08: File validation: max 5MB per file, max 50 files per request — Phase 8 + 9
- [x] REQ-09: Input validation: list_mode rejects >1 file, profile_mode accepts 1..N — Phase 2
- [x] REQ-10: Drizzle schema for `batches` and `rows` tables with proper relationships — Phase 1

## Requirement Coverage

| Requirement | Description | Phase | Status |
|-------------|-------------|-------|--------|
| REQ-01 | Batch creation with file upload | Phase 7 + 10 | Complete |
| REQ-02 | ListModeStrategy parsing | Phase 2 | Complete |
| REQ-03 | ProfileModeStrategy parsing | Phase 2 | Complete |
| REQ-04 | Strategy selection | Phase 3 + 4 | Complete |
| REQ-05 | Atomic batch transactions | Phase 2 + 5 + 6 | Complete |
| REQ-06 | JSONB data storage | Phase 1 | Complete |
| REQ-07 | Source filename traceability | Phase 1 | Complete |
| REQ-08 | File size/count validation | Phase 8 + 9 | Complete |
| REQ-09 | Mode-specific file count validation | Phase 2 | Complete |
| REQ-10 | Drizzle schema with relationships | Phase 1 | Complete |

---

## Milestone Summary

**Shipped:** 10 of 10 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-01-29 as part of v2.0 milestone completion*
